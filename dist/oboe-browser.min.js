!function a(b,c,d,e,f,g){function h(a,b){return function(){return a.call(this,b.apply(this,arguments))}}function i(a){return function(b){return b[a]}}function j(a,b){return b.apply(g,a)}function k(a){var b=a.length-1,c=d.prototype.slice;if(0==b)return function(){return a.call(this,c.call(arguments))};if(1==b)return function(){return a.call(this,arguments[0],c.call(arguments,1))};var e=d(a.length);return function(){for(var d=0;b>d;d++)e[d]=arguments[d];return e[b]=c.call(arguments,b),a.apply(this,e)}}function l(a){return function(b,c){return a(c,b)}}function m(a,b){return function(c){return a(c)&&b(c)}}function n(){}function o(){return!0}function p(a){return function(){return a}}function q(a,b){return b&&b.constructor===a}function r(a){return a!==g}function s(a,b){return b instanceof c&&z(function(a){return a in b},a)}function t(a,b){return[a,b]}function u(a){return B(a.reduce(l(t),S))}function v(a){return x(function(a,b){return a.unshift(b),a},[],a)}function w(a,b){return b?t(a(T(b)),w(a,U(b))):S}function x(a,b,c){return c?a(x(a,b,U(c)),T(c)):b}function y(a,b,c){function d(a,c){return a?b(T(a))?(c(T(a)),U(a)):t(T(a),d(U(a),c)):S}return d(a,c||n)}function z(a,b){return!b||a(T(b))&&z(a,U(b))}function A(a,b){a&&(T(a).apply(null,b),A(U(a),b))}function B(a){function b(a,c){return a?b(U(a),t(T(a),c)):c}return b(a,S)}function C(a,b){return b&&(a(T(b))?T(b):C(a,U(b)))}function D(a,b){"use strict";function c(a){return function(b){d=a(d,b)}}var d,e={};for(var f in b)a(f).on(c(b[f]),e);a(gb).on(function(){for(var c in b)a(c).un(e)})}function E(a,b){return{key:a,node:b}}function F(a){function b(a,b){var c=Y(T(a));return q(d,c)?f(a,Q(c),b):a}function c(a,c){if(!a)return k(c),f(a,Z,c);var d=b(a,c),g=U(d),h=X(T(d));return e(g,h,c),t(E(h,c),g)}function e(a,b,c){Y(T(a))[b]=c}function f(a,b,c){a&&e(a,b,c);var d=t(E(b,c),a);return i(d),d}function g(a){return j(a),U(a)||l(Y(T(a)))}var i=a(ab).emit,j=a(bb).emit,k=a(eb).emit,l=a(db).emit,m={};return m[jb]=function(a){return c(a,{})},m[lb]=function(a){return c(a,[])},m[ib]=f,m[hb]=h(g,c),m[kb]=g,m[mb]=g,m}function G(a,b,c){function d(a){return function(b){return b.id==a}}var e,f;return{on:function(c,d){var g={listener:c,id:d||c};return b&&b.emit(a,c,g.id),e=t(g,e),f=t(c,f),this},emit:function(){A(f,arguments)},un:function(b){var g;e=y(e,d(b),function(a){g=a}),g&&(f=y(f,function(a){return a==g.listener}),c&&c.emit(a,g.listener,g.id))},listeners:function(){return f},hasListener:function(a){var b=a?d(a):o;return r(C(b,e))}}}function H(){function a(a){return c[a]=G(a,d,e)}function b(b){return c[b]||a(b)}var c={},d=a("newListener"),e=a("removeListener");return["emit","on","un"].forEach(function(a){b[a]=k(function(c,d){j(d,b(c)[a])})}),b}function I(a,b,c){try{var d=f.parse(b)}catch(e){}return{statusCode:a,body:b,jsonBody:d,thrown:c}}function J(a,b){function c(a,b,c){var d=B(c);a(b,v(U(w(X,d))),v(w(Y,d)))}function d(b,d,e){var f=a(b).emit;d.on(function(a){var b=e(a);b!==!1&&c(f,Y(b),a)},b),a("removeListener").on(function(c){c==b&&(a(c).listeners()||d.un(b))})}var e={node:a(bb),path:a(ab)};a("newListener").on(function(a){var c=/(node|path):(.*)/.exec(a);if(c){var f=e[c[1]];f.hasListener(a)||d(a,f,b(c[2]))}})}function K(a){function b(b,c){return a(b).on(d(c),c),i}function c(a,b){var c=d(b);return a.on(function(){var d=!1;i.forget=function(){d=!0},j(arguments,c),delete i.forget,d&&a.un(b)},b),i}function d(b){return function(){try{b.apply(i,arguments)}catch(c){a(cb).emit(I(g,g,c))}}}function e(b,c){return a(b+":"+c)}function f(a,b){for(var d in b)c(e(a,d),b[d])}function h(a,b,d){return R(b)?c(e(a,b),d):f(a,b),i}var i,l=/^(node|path):./,m=a(db),o=k(function(b,d){if(i[b])j(d,i[b]);else{var e=a(b),f=d[0];l.test(b)?c(e,f):e.on(f)}return i}),q=function(b,c,d){if("done"==b)m.un(c);else if("node"==b||"path"==b)a.un(b+":"+c,d);else{var e=c;a(b).un(e)}return i};return a(eb).on(function(a){i.root=p(a)}),a(fb).on(function(a,b){i.header=function(a){return a?b[a]:b}}),i={on:o,addListener:o,removeListener:q,emit:a.emit,node:O(h,"node"),path:O(h,"path"),done:O(c,m),start:O(b,fb),fail:a(cb).on,abort:a(gb).emit,header:n,root:n}}function L(b,c,d,e,f){var g=H();return nb(g,[a],function(a,b,c,d,e,f){N.wire.wireToFetch(a,b,c,d,e,f)},[b,c,d,e,f],[gb],[hb,ib,jb,kb,lb,mb,cb]),D(g,F(g)),J(g,$),new K(g)}function M(a,b,c,d,e,g,h){function i(a,b){return b===!1&&(a+=-1==a.indexOf("?")?"?":"&",a+="_="+(new Date).getTime()),a}return e=e?f.parse(f.stringify(e)):{},d?R(d)||(d=f.stringify(d),e["Content-Type"]=e["Content-Type"]||"application/json"):d=null,a(c||"GET",i(b,h),d,e,g||!1)}function N(a){return a?a.url?M(L,a.url,a.method,a.body,a.headers,a.withCredentials,a.cached):M(L,a):L()}var O=k(function(a,b){var c=b.length;return k(function(d){for(var e=0;e<d.length;e++)b[c+e]=d[e];return b.length=c+d.length,a.apply(this,b)})}),P=(k(function(a){function b(a,b){return[j(a,b)]}var c=u(a);return k(function(a){return x(b,a,c)[0]})}),k(function(a){return k(function(b){for(var c,d=0;d<Q(a);d++)if(c=j(b,a[d]))return c})})),Q=i("length"),R=O(q,String),S=null,T=i(0),U=i(1),V=k(u),W=function(){var a=function(a){return a.exec.bind(a)},b=k(function(b){return b.unshift(/^/),a(RegExp(b.map(i("source")).join("")))}),c=/(\$?)/,d=/([\w-_]+|\*)/,e=/()/,f=/\["([^"]+)"\]/,g=/\[(\d+|\*)\]/,h=/{([\w ]*?)}/,j=/(?:{([\w ]*?)})?/,l=b(c,d,j),m=b(c,f,j),n=b(c,g,j),o=b(c,e,h),p=b(/\.\./),q=b(/\./),r=b(c,/!/),s=b(/$/);return function(a){return a(P(l,m,n,o),p,q,r,s)}}(),X=i("key"),Y=i("node"),Z={},$=W(function(a,b,c,d,f){function g(a,b){var c=b[z],d=c&&"*"!=c?function(a){return B(a)==c}:o;return m(d,a)}function i(a,b){var c=b[A];if(!c)return a;var d=O(s,u(c.split(/\W+/))),e=h(d,C);return m(e,a)}function j(a,b){var c=!!b[y];return c?m(a,T):a}function k(a){function b(a){return B(a)!=Z}return a==o?o:m(b,h(a,U))}function l(a){function b(a){return a?f(a):!1}if(a==o)return o;var c=n(),d=a,e=k(b),f=P(c,d,e);return b}function n(){return function(a){return B(a)==Z}}function p(a){return function(b){var c=a(b);return c===!0?T(b):c}}function q(a,b,c){return x(function(a,b){return b(a,c)},b,a)}function r(a,b,c,d,e){var f=a(c);if(f){var g=q(b,d,f),h=c.substr(Q(f[0]));return e(h,g)}}function t(a,b){return O(r,a,b)}function v(a,b){return b}function w(a,b){var c=a?w:v;return D(a,b,c)}var y=1,z=2,A=3,B=h(X,T),C=h(Y,T),D=P(t(a,V(j,i,g,k)),t(b,V(l)),t(c,V()),t(d,V(j,n)),t(f,V(p)),function(a){throw e('"'+a+'" could not be tokenised')});return function(a){try{return w(a,o)}catch(b){throw e('Could not compile "'+a+'" because '+b.message)}}}),_=1,ab=_++,bb=_++,cb="fail",db=_++,eb=_++,fb="start",gb=(_++,_++),hb=_++,ib=_++,jb=_++,kb=_++,lb=_++,mb=_++,nb=function(){"use strict";function a(a,b,c){var d=c?c.postMessage.bind(c):postMessage;b.forEach(function(b){a.on(b,function(a){d([b,a])})})}function c(a,b){function c(b){var c=b.data;a.emit(c[0],c[1])}b?b.onmessage=c:onmessage=c}function d(b){onmessage=function(d){var e=H(),f=d.data;a(e,f[0]),c(e),f[1].unshift(e),b.apply(null,f[1])}}function e(b,e){return b.concat(a,c).map(String).concat("("+String(d)+")("+String(e)+")")}return function(d,f,g,h,i,j){var k=new Worker(b.URL.createObjectURL(new Blob(e(f,g),{type:"text/javascript"})));k.postMessage([j,h]),a(d,i,k),c(d,k)}}();"function"==typeof define&&define.amd?define("oboe",[],function(){return N}):b.oboe=N}(window,Object,Array,Error,JSON);