(function(t,e,n,r){function o(t){return t[s(t)-1]}function i(t){return t&&t.constructor===n}function s(t){return t.length}function a(t,e){return n.prototype.slice.call(t,e)}function u(t,e){var n=a(arguments,2);t.forEach(function(t){t.apply(e,n)})}function c(t,e,n){for(var o,i=0;s(t)>i;i++)if(o=t[i].apply(r,e))return o;return n()}function f(t){var e=a(arguments);return e[0]=r,t.bind.apply(t,e)}function l(){return!0}function d(t,e,n){function a(t){var e=o(d);i(e)&&u(f,t),e[f]=t,h.push(f),d.push(t)}function u(t,e){var o=t===r?h:h.concat(t);n(e,o,d),f=t}function c(){var t=d.pop(),n=o(d);e(t,h,d),h.pop(),f=i(n)?s(n):r}var f,l,d=[],h=[],p=function(t){u(r,t),l=t,d.push(t),p=a};return t.onopenobject=function(t){p({}),t!==r&&u(t)},t.onopenarray=function(){p([]),f=0},t.onkey=u,t.onvalue=function(t){p(t),c()},t.onend=t.oncloseobject=t.onclosearray=c,{getRoot:function(){return l}}}(function(t,e){t.forEach=t.forEach||function(t){for(var e=0;s(this)>e;e++)t(this[e])},t.filter=t.filter||function(t){var e=[];return this.forEach(function(n){t(n)&&e.push(n)}),e},e.bind=e.bind||function(t){var e=this,n=a(arguments,1);return function(){var r=n.concat(a(arguments));return e.apply(t,r)}}})(n.prototype,Function.prototype),function(o){function i(t){for(var e=Math.max(o.MAX_BUFFER_LENGTH,10),n=0,r=0,i=A.length;i>r;r++){var s=t[A[r]].length;if(s>e)switch(A[r]){case"text":closeText(t);break;default:E(t,"Max buffer length exceeded: "+A[r])}n=Math.max(n,s)}t.bufferCheckPosition=o.MAX_BUFFER_LENGTH-n+t.position}function s(t){for(var e=0,n=A.length;n>e;e++)t[A[e]]=""}function a(t){if(!(this instanceof a))return new a(t);var e=this;s(e),e.bufferCheckPosition=o.MAX_BUFFER_LENGTH,e.q=e.c=e.p="",e.opt=t||{},e.closed=e.closedRoot=e.sawRoot=!1,e.tag=e.error=null,e.state=m.BEGIN,e.stack=new v,e.position=e.column=0,e.line=1,e.slashed=!1,e.unicodeI=0,e.unicodeS=null,f(e,"onready")}function u(t){return new c(t)}function c(t){if(!(this instanceof c))return new c(t);this._parser=new a(t),this.writable=!0,this.readable=!0;var n=this;y.apply(n),this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},T.forEach(function(t){e.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){return e?(n.on(t,e),r):(n.removeAllListeners(t),n._parser["on"+t]=e,e)},enumerable:!0,configurable:!1})})}function f(t,e,n){o.INFO&&console.log("-- emit",e,n),t[e]&&t[e](n)}function l(t,e,n){d(t),f(t,e,n)}function d(t,e){t.textNode=p(t.opt,t.textNode),t.textNode&&f(t,e?e:"onvalue",t.textNode),t.textNode=""}function h(t){t.numberNode&&f(t,"onvalue",parseFloat(t.numberNode)),t.numberNode=""}function p(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function E(t,e){return d(t),e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c,e=Error(e),t.error=e,f(t,"onerror",e),t}function L(t){return t.state!==m.VALUE&&E(t,"Unexpected end"),d(t),t.c="",t.closed=!0,f(t,"onend"),a.call(t,t.opt),t}function _(t){var e=this;if(this.error)throw this.error;if(e.closed)return E(e,"Cannot write after close. Assign an onready handler.");if(null===t)return L(e);var n=0,r=t[0],s=e.p;for(o.DEBUG&&console.log("write -> ["+t+"]");r&&(s=r,e.c=r=t.charAt(n++),s!==r?e.p=s:s=e.p,r);)switch(o.DEBUG&&console.log(n,r,o.STATE[e.state]),e.position++,"\n"===r?(e.line++,e.column=0):e.column++,e.state){case m.BEGIN:"{"===r?e.state=m.OPEN_OBJECT:"["===r?e.state=m.OPEN_ARRAY:"\r"!==r&&"\n"!==r&&" "!==r&&"	"!==r&&E(e,"Non-whitespace before {[.");continue;case m.OPEN_KEY:case m.OPEN_OBJECT:if("\r"===r||"\n"===r||" "===r||"	"===r)continue;if(e.state===m.OPEN_KEY)e.stack.push(m.CLOSE_KEY);else{if("}"===r){f(e,"onopenobject"),f(e,"oncloseobject"),e.state=e.stack.pop()||m.VALUE;continue}e.stack.push(m.CLOSE_OBJECT)}'"'===r?e.state=m.STRING:E(e,'Malformed object key should start with "');continue;case m.CLOSE_KEY:case m.CLOSE_OBJECT:if("\r"===r||"\n"===r||" "===r||"	"===r)continue;e.state===m.CLOSE_KEY?"key":"object",":"===r?(e.state===m.CLOSE_OBJECT?(e.stack.push(m.CLOSE_OBJECT),d(e,"onopenobject")):d(e,"onkey"),e.state=m.VALUE):"}"===r?(l(e,"oncloseobject"),e.state=e.stack.pop()||m.VALUE):","===r?(e.state===m.CLOSE_OBJECT&&e.stack.push(m.CLOSE_OBJECT),d(e),e.state=m.OPEN_KEY):E(e,"Bad object");continue;case m.OPEN_ARRAY:case m.VALUE:if("\r"===r||"\n"===r||" "===r||"	"===r)continue;if(e.state===m.OPEN_ARRAY){if(f(e,"onopenarray"),e.state=m.VALUE,"]"===r){f(e,"onclosearray"),e.state=e.stack.pop()||m.VALUE;continue}e.stack.push(m.CLOSE_ARRAY)}'"'===r?e.state=m.STRING:"{"===r?e.state=m.OPEN_OBJECT:"["===r?e.state=m.OPEN_ARRAY:"t"===r?e.state=m.TRUE:"f"===r?e.state=m.FALSE:"n"===r?e.state=m.NULL:"-"===r?e.numberNode+=r:"0"===r?(e.numberNode+=r,e.state=m.NUMBER_DIGIT):-1!=="123456789".indexOf(r)?(e.numberNode+=r,e.state=m.NUMBER_DIGIT):E(e,"Bad value");continue;case m.CLOSE_ARRAY:if(","===r)e.stack.push(m.CLOSE_ARRAY),d(e,"onvalue"),e.state=m.VALUE;else if("]"===r)l(e,"onclosearray"),e.state=e.stack.pop()||m.VALUE;else{if("\r"===r||"\n"===r||" "===r||"	"===r)continue;E(e,"Bad array")}continue;case m.STRING:var a=n-1,u=e.slashed,c=e.unicodeI;t:for(;;){for(o.DEBUG&&console.log(n,r,o.STATE[e.state],u);c>0;)if(e.unicodeS+=r,r=t.charAt(n++),4===c?(e.textNode+=String.fromCharCode(parseInt(e.unicodeS,16)),c=0,a=n-1):c++,!r)break t;if('"'===r&&!u){e.state=e.stack.pop()||m.VALUE,e.textNode+=t.substring(a,n-1),e.textNode||f(e,"onvalue","");break}if("\\"===r&&!u&&(u=!0,e.textNode+=t.substring(a,n-1),r=t.charAt(n++),!r))break;if(u){if(u=!1,"n"===r?e.textNode+="\n":"r"===r?e.textNode+="\r":"t"===r?e.textNode+="	":"f"===r?e.textNode+="\f":"b"===r?e.textNode+="\b":"u"===r?(c=1,e.unicodeS=""):e.textNode+=r,r=t.charAt(n++),a=n-1,r)continue;break}U.lastIndex=n;var p=U.exec(t);if(null===p){n=t.length+1,e.textNode+=t.substring(a,n-1);break}if(n=p.index+1,r=t.charAt(p.index),!r){e.textNode+=t.substring(a,n-1);break}}e.slashed=u,e.unicodeI=c;continue;case m.TRUE:if(""===r)continue;"r"===r?e.state=m.TRUE2:E(e,"Invalid true started with t"+r);continue;case m.TRUE2:if(""===r)continue;"u"===r?e.state=m.TRUE3:E(e,"Invalid true started with tr"+r);continue;case m.TRUE3:if(""===r)continue;"e"===r?(f(e,"onvalue",!0),e.state=e.stack.pop()||m.VALUE):E(e,"Invalid true started with tru"+r);continue;case m.FALSE:if(""===r)continue;"a"===r?e.state=m.FALSE2:E(e,"Invalid false started with f"+r);continue;case m.FALSE2:if(""===r)continue;"l"===r?e.state=m.FALSE3:E(e,"Invalid false started with fa"+r);continue;case m.FALSE3:if(""===r)continue;"s"===r?e.state=m.FALSE4:E(e,"Invalid false started with fal"+r);continue;case m.FALSE4:if(""===r)continue;"e"===r?(f(e,"onvalue",!1),e.state=e.stack.pop()||m.VALUE):E(e,"Invalid false started with fals"+r);continue;case m.NULL:if(""===r)continue;"u"===r?e.state=m.NULL2:E(e,"Invalid null started with n"+r);continue;case m.NULL2:if(""===r)continue;"l"===r?e.state=m.NULL3:E(e,"Invalid null started with nu"+r);continue;case m.NULL3:if(""===r)continue;"l"===r?(f(e,"onvalue",null),e.state=e.stack.pop()||m.VALUE):E(e,"Invalid null started with nul"+r);continue;case m.NUMBER_DECIMAL_POINT:"."===r?(e.numberNode+=r,e.state=m.NUMBER_DIGIT):E(e,"Leading zero not followed by .");continue;case m.NUMBER_DIGIT:-1!=="0123456789".indexOf(r)?e.numberNode+=r:"."===r?(-1!==e.numberNode.indexOf(".")&&E(e,"Invalid number has two dots"),e.numberNode+=r):"e"===r||"E"===r?((-1!==e.numberNode.indexOf("e")||-1!==e.numberNode.indexOf("E"))&&E(e,"Invalid number has two exponential"),e.numberNode+=r):"+"===r||"-"===r?("e"!==s&&"E"!==s&&E(e,"Invalid symbol in number"),e.numberNode+=r):(h(e),n--,e.state=e.stack.pop()||m.VALUE);continue;default:E(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&i(e),e}var N,v;if(N="object"==typeof process&&process.env?process.env:t,"function"==typeof FastList)v=FastList;else if("function"==typeof require)try{v=require("fast-list")}catch(b){v=n}else v=n;o.parser=function(t){return new a(t)},o.CParser=a,o.CStream=c,o.createStream=u,o.MAX_BUFFER_LENGTH=65536,o.DEBUG="debug"===N.CDEBUG,o.INFO="debug"===N.CDEBUG||"info"===N.CDEBUG,o.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var y,A=["textNode","numberNode"],T=o.EVENTS.filter(function(t){return"error"!==t&&"end"!==t}),m=0;o.STATE={BEGIN:m++,VALUE:m++,OPEN_OBJECT:m++,CLOSE_OBJECT:m++,OPEN_ARRAY:m++,CLOSE_ARRAY:m++,TEXT_ESCAPE:m++,STRING:m++,BACKSLASH:m++,END:m++,OPEN_KEY:m++,CLOSE_KEY:m++,TRUE:m++,TRUE2:m++,TRUE3:m++,FALSE:m++,FALSE2:m++,FALSE3:m++,FALSE4:m++,NULL:m++,NULL2:m++,NULL3:m++,NUMBER_DECIMAL_POINT:m++,NUMBER_DIGIT:m++};for(var O in o.STATE)o.STATE[o.STATE[O]]=O;m=o.STATE,e.create||(e.create=function(t){function e(){this.__proto__=t}return e.prototype=t,new e}),e.getPrototypeOf||(e.getPrototypeOf=function(t){return t.__proto__}),e.keys||(e.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e});var U=/[\\"\n]/g;a.prototype={end:function(){L(this)},write:_,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{y=require("stream").Stream}catch(S){y=function(){}}c.prototype=e.create(y.prototype,{constructor:{value:c}}),c.prototype.write=function(t){return this._parser.write(""+t),this.emit("data",t),!0},c.prototype.end=function(t){return t&&t.length&&this._parser.write(""+t),this._parser.end(),!0},c.prototype.on=function(t,e){var r=this;return r._parser["on"+t]||-1===T.indexOf(t)||(r._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:n.apply(null,arguments);e.splice(0,0,t),r.emit.apply(r,e)}),y.prototype.on.call(r,t,e)},c.prototype.destroy=function(){s(this._parser),this.emit("close")}}("undefined"==typeof exports?clarinet={}:exports);var h=function(){function e(t,e,n){t.onprogress=e,t.onload=n}function n(e,n,r){var o=t.setInterval(n,0);e.onreadystatechange=function(){4==this.readyState&&(200==this.status&&r(),t.clearInterval(o))}}function r(){return"onprogress"in new XMLHttpRequest}var o=r()?e:n;return function(t,e,n){function r(){try{var t=a.responseText}catch(n){return}if(s(t)>u){var r=t.substr(u);e(r),u=s(t)}}function i(){r(),n(a.responseText)}n=n||l;var a=new XMLHttpRequest,u=0;a.open("GET",t,!0),a.send(null),o(a,r,i)}}(),p=function(){function t(t,e,n,r,o,i){var s=t(r,o,i-1);return s&&u(e,s,o,i)}function e(e,n,r,o,i,s){return o[s]==r&&t(e,n,r,o,i,s)}function n(t,e,o,i,s,a){return-1>a?!1:-1==a||t(i,s,a)||n(t,r,r,i,s,a-1)}function i(t,e,n,r,o,i){return-1==i&&u(e,!0,o,i)}function a(t,e,n,r,i){var a=t(r,i,s(r)-1);return a===!0?o(i):a}function u(t,e,n,r){return t?n[r+1]:e||!0}function d(t,e,n,r,o){var i=t.exec(n);if(i){var a=e(r,i),u=n.substr(s(i[0]));return o(u,a)}}function h(t,e,n){var r=!!n[1],o=n[2];return f(t,e,r,o)}function p(t){return t}function E(t,e){var n=e?f(h,e):p;return f(d,t,n)}function L(t,e){return e}function _(t,e){function n(){throw Error('"'+t+'" could not be tokenised')}var r=t?_:L;return c(S,[t,e,r],n)}var N=/^(\$?)(\w+)/,v=/^(\$?)\["(\w+)"\]/,b=/^(\$?)\[(\d+)\]/,y=/^(\$?)\*/,A=/^(\$?)\[\*\]/,T=/^\.\./,m=/^\./,O=/^(\$?)!/,U=/^$/,S=[E(N,e),E(v,e),E(b,e),E(y,t),E(A,t),E(T,n),E(m),E(O,i),E(U,a)];return function(t){try{return _(t,l)}catch(e){throw Error('Could not compile "'+t+'" because '+e.message)}}}(),E=function(){"use strict";function e(t){var e=clarinet.parser(t),n=[],r=[];this._nodeFoundListeners=n,this._pathMatchedListeners=r,this._errorListeners=[],this._clarinet=e,this._jsonBuilder=d(e,this._notifyListeners.bind(this,n),this._notifyListeners.bind(this,r)),e.onerror=function(t){this.notifyErrors(t),this.close()}.bind(this)}function n(e,n,r){r=r||t;var o=p(e);return function(t,e,i,s){var a=o(e,s);if(a!==!1)try{n.call(r,a,e,i)}catch(u){this.notifyErrors(Error("Error thrown by callback "+u.message))}}}function o(t,e,r,o){t.push(n(e,r,o))}function i(t,e){for(var n in e)o(t,n,e[n])}function s(t,e,n,r){"string"==typeof e?o(t,e,n,r):i(t,e)}var a=e.prototype;return a.fetch=function(t,e){return h(t,this.read.bind(this),function(){this.close(),(e||l)(this._jsonBuilder.getRoot())}.bind(this)),this},a.read=function(t){if(this.closed)throw Error("closed");try{this._clarinet.write(t)}catch(e){}},a.close=function(){this.closed=!0,this._nodeFoundListeners=[],this._pathMatchedListeners=[],this._errorListeners=[];var t=this._clarinet;t.onkey=t.onvalue=t.onopenobject=t.onopenarray=t.onend=t.oncloseobject=t.onclosearray=t.onerror=r,t.close()},a._notifyListeners=function(t,e,n,r){var o=r.concat([e]);u(t,this,e,n,r,o)},a.notifyErrors=function(t){u(this._errorListeners,r,t)},a.onPath=function(t,e,n){return s(this._pathMatchedListeners,t,e,n),this},a.onFind=function(t,e,n){return s(this._nodeFoundListeners,t,e,n),this},a.onError=function(t){return this._errorListeners.push(t),this},{parser:function(t){return new e(t)},fetch:function(t,n){return new e({}).fetch(t,n)}}}();t.oboe=E})(window,Object,Array);