<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8">
   <title>An example modular-style webpage loading via Oboe.js
   </title>

   <link rel="stylesheet" href="css/modularPageExample.css">
   <link rel="stylesheet" href="css/reset.css">
   <!--[if IE]>
   <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
   <![endif]-->

</head>

<body>

   <section class="pageInfo">
      <header>An example page modular webpage 
         Loading via <a href="https://github.com/jimhigson/oboe.js">Oboe.js</a>
      </header>
      
      <p>
         This page simulates loading of json data via streaming. I built a clone of something that I knew but 
         the application domain is largely irrelevant.
      </p>
      <p>
         The page is  
         a clone from <a href="sourceImages/strava.png">this screenshot</a> of 
         <a href="http://app.strava.com/athletes/182755">my personal Strava profile</a>
         because I'm a massive fan of those guys.
      </p> 
   </section>
   
   <section class="modularPage">
      
      <div class="topLinks">
   
         <h1 id="logo">Fakeva</h1>
                  
         <span class="accountBar">            
            <span data-module="accountBar" class="data-cloak module">
               <img src="{{user.avitar}}/32" width="32" height="32" />
               <a href="#">{{user.firstname}}</a>
            </span>
         </span>         
      </div>
      
        
      <div class="content">
         <div class="mainContent column">
            <section data-module="activitySummary" class="module moduleBox">
               <header>Activity Summary Last 4 Weeks</header>
               <div class="moduleContents">
               
                  <section class="data-cloak total">                  
                     <header>Total Activities</header>
                     
                     <span class="{{gotData(totalNumber)}} number">{{totalNumber}}</span>
                  </section>
                  
                  <section class="byType data-cloak {{gotData(byType)}}">
                     <header>Activity type</header>
                     
                     <ul>
                        <li class="{{gotData(byType.cycling)}}"><span class="number">{{byType.cycling}}</span> Cycling</li>
                        <li class="{{gotData(byType.running)}}"><span class="number">{{byType.running}}</span> Running</li>
                     </ul>
                  </section>
                  
                  <section class="calendar data-cloak {{gotData(calendar)}}">                  
                     <header>Calendar</header>
                     
                     <div class="weeks">
                        <div data-repeat="week in calendar.weeks" class="weekRow">
                           <span class="day active-{{known(week.days.mon)}}"></span>
                           <span class="day active-{{known(week.days.tue)}}"></span>
                           <span class="day active-{{known(week.days.wed)}}"></span>
                           <span class="day active-{{known(week.days.thur)}}"></span>
                           <span class="day active-{{known(week.days.fri)}}"></span>
                           <span class="day active-{{known(week.days.sat)}}"></span>
                           <span class="day active-{{known(week.days.sun)}}"></span>
                           <span class="barCell">
                              <span class="bar" 
                                 style="width:{{barWidth(week.timeSpent)}}px"></span>
                              <span class="{{gotData(week.timeSpent.hours)}}">
                                 {{week.timeSpent.hours}}hr
                              </span>
                              <span class="{{gotData(week.timeSpent.minutes)}}"> 
                                 {{week.timeSpent.minutes}}m
                              </span>                                 
                           </span>                                                                     
                        </div>
                        <div class="dayHeadings">
                           <span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span>
                        </div>                  
                     </div>
                  </section>                     
               </div>                  
            </section>
            
            <!-- DOM for the bar recent achievements module -->
            <section data-module="recentAchievements" class="module moduleBox">
               <header>Recent Achievements</header>
               <div class="awards data-cloak">
                  <div data-repeat="award in awards">
                     <img src="//placehold.it/32" width="32" height="32">
                     <a class="{{gotData(award.segment.name)}}" href="{{award.segment.url}}">
                        {{award.segment.name}}
                     </a>
                     <span class="when {{gotData(award.segment.name, award.when)}}">{{award.when}}</span>
                  </div>               
               </div>
            </section>      
              
         </div>
         
         <div class="secondaryContent column">
   
            <section data-module="user" class="data-cloak module moduleBox">
               <img src="{{user.avitar}}/128" width="128" height="128" />
               <header>{{user.firstname}} {{user.surname}}</header>
               <span class="location">{{user.location}}</span>            
            </section>
         
            <!-- DOM for the social stats -->      
            <section data-module="socialStats" class="module moduleBox">
   
               <header>Social Stats</header>
                    
               <ul class="data-cloak">
                  <li class="{{gotData(socialStats.following)}}">
                     Following {{socialStats.following}}
                  </li>
                  <li class="{{gotData(socialStats.followers)}}">
                     Followers {{socialStats.followers}}
                  </li>
                  <li class="{{gotData(socialStats.kudos)}}">
                     Kudos {{socialStats.kudos}}
                  </li>
                  <li class="{{gotData(socialStats.comments)}}">
                     Comments {{socialStats.comments}}
                  </li>               
               </ul>
            </section>      
         
            <!-- DOM for the table module -->      
            <section data-module="tables" class="module moduleBox">
   
               <header>My Stats</header>
   
               <h2 class="data-cloak {{gotData(heading)}}">{{heading}}</h2>      
                                                    
               <table class="data-cloak">
                  <tbody>
                     <tr data-repeat="row in data">
                        <th>{{row.heading}}</th><td>{{row.value}}</td>
                     </tr>
                  </tbody>
               </table>
            </section>
         </div>
      </div>
   
      <script src="components/jquery/jquery.min.js"></script>
      <script src="components/underscore/underscore.js"></script>
      <script src="data/modularPageExampleData.js" type="text/javascript" ></script>
      <script src="data/randomJson.js" type="text/javascript" ></script>
      <script src="data/fakeAjax.js" type="text/javascript" ></script>
      <script src="libs/soma-template.js" type="text/javascript" ></script>
      <script src="../dist/oboe.js" type="text/javascript" ></script>
      <script src="js/modularPageOboeLoad.js"></script>
   
   </section>
</body>
</html>